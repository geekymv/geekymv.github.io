<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="Basic ConceptsThere are a few concepts that are core to Elasticsearch.Understanding these concepts from the outset will tremendously help ease the learning process.Elasticsearch 的核心概念，从一开始就理解这些概念将极大地帮">
<meta property="og:type" content="article">
<meta property="og:title" content="elasticsearch-basic-concepts">
<meta property="og:url" content="http://yoursite.com/2019/07/09/elasticsearch-basic-concepts/index.html">
<meta property="og:site_name" content="geekymv">
<meta property="og:description" content="Basic ConceptsThere are a few concepts that are core to Elasticsearch.Understanding these concepts from the outset will tremendously help ease the learning process.Elasticsearch 的核心概念，从一开始就理解这些概念将极大地帮">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-07-09T08:14:38.920Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="elasticsearch-basic-concepts">
<meta name="twitter:description" content="Basic ConceptsThere are a few concepts that are core to Elasticsearch.Understanding these concepts from the outset will tremendously help ease the learning process.Elasticsearch 的核心概念，从一开始就理解这些概念将极大地帮">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/07/09/elasticsearch-basic-concepts/">





  <title>elasticsearch-basic-concepts | geekymv</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">geekymv</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/09/elasticsearch-basic-concepts/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="geekymv">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="geekymv">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">elasticsearch-basic-concepts</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-09T10:39:26+08:00">
                2019-07-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.5/getting-started-concepts.html#getting-started-concepts" target="_blank" rel="noopener">Basic Concepts</a><br>There are a few concepts that are core to Elasticsearch.<br>Understanding these concepts from the outset will tremendously help ease the learning process.<br>Elasticsearch 的核心概念，从一开始就理解这些概念将极大地帮助简化学习过程。</p>
<p>Near Realtime (NRT)<br>近实时<br>Elasticsearch is a near-realtime search platform.<br>What this means is there is a slight latency (normally one second)<br>from the time you index a document until the time it becomes searchable.<br>Elasticsearch 是一个近实时的搜索平台，这意味着从搜索文档到可搜索文档的时间有一点延迟（通常是1s）。</p>
<p>Cluster<br>集群<br>A cluster is a collection of one or more nodes (servers) that together holds your entire data<br>and provides federated indexing and search capabilities across all nodes.<br>A cluster is identified by a unique name which by default is “elasticsearch”.<br>This name is important because a node can only be part of a cluster if the node is set up to join the cluster by its name.<br>集群是一个或更多节点（服务器）的集合，它们共同保存你的整个数据，并通过所有节点提供联合索引和搜索功能。<br>集群由唯一名称标识，默认情况下为”elasticsearch”。这个名称很重要，因为如果节点设置为按名称加入集群，则该节点只能是集群的一部分。</p>
<p>Make sure that you don’t reuse the same cluster names in different environments,<br>otherwise you might end up with nodes joining the wrong cluster.<br>For instance you could use logging-dev, logging-stage, and logging-prod for the development, staging, and production clusters.<br>确保你没有在不同环境重用相同集群名称，否则你可能将节点加入错误的集群。<br>例如，你可以使用logging-dev、logging-stage 和 logging-prod 用于开发、stage和生产集群。</p>
<p>Note that it is valid and perfectly fine to have a cluster with only a single node in it.<br>Furthermore, you may also have multiple independent clusters each with its own unique cluster name.<br>注意，一个集群只有一个节点是完全正常的。此外，你还可以有多个独立的集群，每个集群有自己唯一的集群名称。</p>
<p>Node<br>节点<br>A node is a single server that is part of your cluster, stores your data,<br>and participates in the cluster’s indexing and search capabilities. Just like a cluster,<br>a node is identified by a name which by default is a random Universally Unique IDentifier (UUID)<br>that is assigned to the node at startup.<br>You can define any node name you want if you do not want the default.<br>This name is important for administration purposes where you want to<br>identify which servers in your network correspond to which nodes in your Elasticsearch cluster.<br>一个节点是作为集群一部分的单个服务器，存储数据，并且参与集群索引和搜索功能。<br>像集群一样，一个节点是通过名称唯一标识，默认是一个随机的UUID，在节点启动的时候分配给节点。<br>如果你不想使用默认的，你可以定义你需要的的任何节点名称。<br>这个名称对于管理目的很重要，你可以识别网络中的哪些服务器与Elasticsearch 集群中的哪些节点相对应。</p>
<p>A node can be configured to join a specific cluster by the cluster name.<br>By default, each node is set up to join a cluster named elasticsearch which means that if you start up a number of<br>nodes on your network and—​assuming they can discover each other—​they will all automatically<br>form and join a single cluster named elasticsearch.<br>一个节点可以通过配置集群名称加入到一个指定的集群。<br>默认情况下，每个节点设置为加入集群名为elasticsearch 的集群，这意味着如果启动了多个网络上的节点-假设它们可以发现彼此-他们将自动完成组成<br>并加入名为elasticsearch 的单个集群。</p>
<p>In a single cluster, you can have as many nodes as you want.<br>Furthermore, if there are no other Elasticsearch nodes currently running on your network,<br>starting a single node will by default form a new single-node cluster named elasticsearch.<br>在单个集群，你可以有任意多的节点。此外，如果当前运行在你的网络中没有其他Elasticsearch 节点，<br>默认情况下，启动一个单节点将形成一个名为elasticsearch 的新单节点集群。</p>
<p>Index<br>索引<br>An index is a collection of documents that have somewhat similar characteristics.<br>For example, you can have an index for customer data, another index for a product catalog,<br>and yet another index for order data. An index is identified by a name (that must be all lowercase)<br>and this name is used to refer to the index when performing indexing, search, update, and delete operations against the documents in it.<br>索引是具有某些相似特征的文档(document)集合。<br>例如，你可以有客户数据的索引，产品目录的索引，还有另一个订单数据的索引。<br>一个索引通过名称（必须全部小写）唯一标识。<br>并且这个名称是用于在对其中的文档执行索引、搜索、更新和删除操作时引用索引。</p>
<p>In a single cluster, you can define as many indexes as you want.<br>在单个集群中，你可以定义任意多的索引。</p>
<p>Type<br>类型<br>Warning<br>Deprecated in 6.0.0.<br>See Removal of mapping types<br>在6.0.0中被废弃。</p>
<p>A type used to be a logical category/partition of your index to allow you to<br>store different types of documents in the same index, e.g. one type for users,<br>another type for blog posts.<br>It is no longer possible to create multiple types in an index,<br>and the whole concept of types will be removed in a later version. See Removal of mapping types for more.<br>一个类型(type)曾经是索引的一个逻辑类别/分区，允许你在同一个索引(index)中存储不同类型的文档(document)，<br>例如，一个用户类型，另一个博客文章类型。<br>在一个索引中不能创建多个类型，并且在以后的版本中类型概念将被移除。</p>
<p>Document<br>文档<br>A document is a basic unit of information that can be indexed.<br>For example, you can have a document for a single customer, another document for a single product,<br>and yet another for a single order. This document is expressed in JSON (JavaScript Object Notation)<br>which is a ubiquitous internet data interchange format.<br>文档是可以建立索引的基本信息单元。<br>例如，你可以为单个客户创建一个文档(document)，为单个产品创建一个文档(document)，还有单个订单。<br>这个文档(document)用JSON表示（这是一种无处不在的互联网数据交换格式）。</p>
<p>Within an index/type, you can store as many documents as you want.<br>Note that although a document physically resides in an index,<br>a document actually must be indexed/assigned to a type inside an index.<br>在索引/类型中，可以存储任意类型的文档。<br>注意，尽管文档实际上位于索引中，文档实际上必须被索引/分配 给索引中的类型。</p>
<p>Shards &amp; Replicas<br>分片和副本<br>An index can potentially store a large amount of data that can exceed the hardware limits of a single node.<br>For example, a single index of a billion documents taking up 1TB of disk space may not fit on the disk<br>of a single node or may be too slow to serve search requests from a single node alone.</p>
<p>To solve this problem, Elasticsearch provides the ability to subdivide your index into multiple pieces called shards.<br>When you create an index, you can simply define the number of shards that you want.<br>Each shard is in itself a fully-functional and independent “index” that can be hosted on any node in the cluster.</p>
<p>Sharding is important for two primary reasons:</p>
<p>It allows you to horizontally split/scale your content volume<br>It allows you to distribute and parallelize operations across shards (potentially on multiple nodes) thus increasing performance/throughput</p>
<p>The mechanics of how a shard is distributed and also how its documents are aggregated back into search requests<br>are completely managed by Elasticsearch and is transparent to you as the user.</p>
<p>In a network/cloud environment where failures can be expected anytime, it is very useful and highly recommended to<br>have a failover mechanism in case a shard/node somehow goes offline or disappears for whatever reason.<br>To this end, Elasticsearch allows you to make one or more copies<br>of your index’s shards into what are called replica shards, or replicas for short.</p>
<p>Replication is important for two primary reasons:</p>
<p>It provides high availability in case a shard/node fails. For this reason,<br>it is important to note that a replica shard is never allocated on the same node as the original/primary shard that it was copied from.<br>It allows you to scale out your search volume/throughput since searches can be executed on all replicas in parallel.</p>
<p>To summarize, each index can be split into multiple shards. An index can also be replicated zero (meaning no replicas) or more times.<br>Once replicated, each index will have primary shards (the original shards that were replicated from) and replica shards (the copies of the primary shards).</p>
<p>The number of shards and replicas can be defined per index at the time the index is created.<br>After the index is created, you may also change the number of replicas dynamically anytime.<br>You can change the number of shards for an existing index using the _shrink and _split APIs,<br>however this is not a trivial task and pre-planning for the correct number of shards is the optimal approach.</p>
<p>By default, each index in Elasticsearch is allocated 5 primary shards and 1 replica which means that<br>if you have at least two nodes in your cluster, your index will have 5 primary shards<br>and another 5 replica shards (1 complete replica) for a total of 10 shards per index.</p>
<p>Each Elasticsearch shard is a Lucene index.<br>There is a maximum number of documents you can have in a single Lucene index.<br>As of LUCENE-5843, the limit is 2,147,483,519 (= Integer.MAX_VALUE - 128) documents.<br>You can monitor shard sizes using the _cat/shards API.</p>
<p>With that out of the way, let’s get started with the fun part…​</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/09/elasticsearch-getting-started/" rel="next" title="elasticsearch-getting-started">
                <i class="fa fa-chevron-left"></i> elasticsearch-getting-started
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/12/mysql-install-yum/" rel="prev" title="mysql-install-yum">
                mysql-install-yum <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">geekymv</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">60</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">geekymv</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客<span id="busuanzi_value_site_uv"></span>人</span>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>






        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
